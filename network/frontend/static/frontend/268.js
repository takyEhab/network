"use strict";(self.webpackChunkfullstacknetwork=self.webpackChunkfullstacknetwork||[]).push([[268],{6562:(e,t,n)=>{n.d(t,{Z:()=>x});var r=n(885),o=n(7294),a=n(5295),i=n(8515),s=n(2643),l=n(9161),c=n(7109),u=n(6867),m=n(2658),p=n(6949),f=n(6111),d=n(3484),Z=n(3727),g=n(2986),E=n(1732),h=n(6914),v=n(6186),w=n(4776),k=n(7957),y=n(9571),S=n(9704);function x(e){var t=(0,o.useContext)(d.S).refresh,n=(0,S.v9)((function(e){return e.postsState.posts})),x=(0,S.v9)((function(e){return e.myInfoState})),C=(0,o.useState)(null),b=(0,r.Z)(C,2),T=b[0],I=b[1],A=(0,o.useState)(""),L=(0,r.Z)(A,2),M=L[0],O=L[1],N=(0,o.useState)(!1),D=(0,r.Z)(N,2),F=D[0],P=D[1],U=(0,o.useState)(!0),G=(0,r.Z)(U,2),R=G[0],W=G[1],j=(0,y.Ds)().enqueueSnackbar;(0,o.useEffect)((function(){e.post.UsersLikes.includes(x.isLogedIn&&x.myInfo.id)?I(!0):I(!1)}),[x.isLogedIn,n]);var q=function(){"main"===e.from?t():"following"===e.from?e.getFollowingPosts():e.GetUserPosts()};return o.createElement(a.Z,{style:{textAlign:"center",width:"auto",margin:"auto",marginTop:"2%"},sx:{maxWidth:550}},o.createElement(i.Z,{avatar:o.createElement(Z.rU,{style:{textDecoration:"initial"},to:"/profile/".concat(e.post.writer)},o.createElement(c.Z,{sx:{bgcolor:p.Z[500]},"aria-label":"recipe"},e.post.writer.charAt(0).toUpperCase())),action:x.isLogedIn&&(x.myInfo.username===e.post.writer?o.createElement(u.Z,{onClick:function(){O(e.post.post),W(!R)}},o.createElement(k.Z,null)):""),title:e.post.writer,subheader:e.post.created_at}),o.createElement(s.Z,null,R?o.createElement(m.Z,{variant:"body2",color:"text.secondary"},e.post.post):o.createElement(o.Fragment,null,o.createElement(E.Z,{id:"outlined-multiline-static",value:M,multiline:!0,rows:5,style:{width:"100%",marginTop:"1%"},onChange:function(e){O(e.target.value)}}),o.createElement(h.Z,{onClick:function(){var t,n;M.length>5?(t=M,n=e.post.id,g.h.patch("posts/".concat(n,"/"),{post:t},x.CONFIG).then((function(){return q()})),j("Post Edited!",{variant:"info"}),W(!0)):P(!0)}},"Save"),o.createElement(w.Z,{direction:"up",in:F,mountOnEnter:!0,unmountOnExit:!0},o.createElement(v.Z,{severity:"warning"},"you should at least type 5 letters")))),o.createElement(l.Z,{disableSpacing:!0},o.createElement(u.Z,{onClick:function(){var t;x.isLogedIn&&(I(!T),t=e.post.id,g.h.patch("posts/".concat(t,"/like/"),{},x.CONFIG).then((function(){return q()})))},style:{color:T?"red":"gray"},"aria-label":"add to favorites"},o.createElement(f.Z,null),0==e.post.likes?"":e.post.likes)))}},3268:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var r=n(4942),o=n(885),a=n(7294),i=n(6186),s=n(4776),l=n(7462),c=n(3366),u=(n(5697),n(6010)),m=n(7192),p=n(9602),f=n(1657),d=n(2658),Z=n(8979);function g(e){return(0,Z.Z)("MuiAlertTitle",e)}(0,n(6087).Z)("MuiAlertTitle",["root"]);var E=n(5893);const h=["className"],v=(0,p.ZP)(d.Z,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({fontWeight:e.typography.fontWeightMedium,marginTop:-2}))),w=a.forwardRef((function(e,t){const n=(0,f.Z)({props:e,name:"MuiAlertTitle"}),{className:r}=n,o=(0,c.Z)(n,h),a=n,i=(e=>{const{classes:t}=e;return(0,m.Z)({root:["root"]},g,t)})(a);return(0,E.jsx)(v,(0,l.Z)({gutterBottom:!0,component:"div",ownerState:a,ref:t,className:(0,u.Z)(i.root,r)},o))}));var k=n(6562),y=n(6492),S=n(9041),x=n(9704);function C(){var e,t=(0,x.v9)((function(e){return e.postsState})),n=(0,a.useState)(1),l=(0,o.Z)(n,2),c=l[0],u=l[1],m=10*c,p=m-10,f=Math.ceil((null!==t.posts&&""===t.error&&t.posts.length)/10);return a.createElement("div",null,null!==t.posts&&""===t.error&&t.posts.sort((function(e,t){return new Date(t.id)-new Date(e.id)})).slice(p,m).map((function(e,t){return a.createElement(k.Z,{key:t,post:e,from:"main"})})),t.isLoading?a.createElement(S.Z,{sx:{marginTop:"10%"}}):a.createElement(y.Z,{size:"large",count:f,page:c,onChange:function(e,t){u(t),window.scrollTo({top:0,behavior:"smooth"})}}),a.createElement(s.Z,{direction:"up",in:""!==t.error,mountOnEnter:!0,unmountOnExit:!0},a.createElement(i.Z,{sx:(e={margin:"auto",width:"auto"},(0,r.Z)(e,"width","40%"),(0,r.Z)(e,"marginTop","1%"),e),severity:"error"},a.createElement(w,null,"Error"),t.error)))}}}]);