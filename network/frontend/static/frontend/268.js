"use strict";(self.webpackChunkfullstacknetwork=self.webpackChunkfullstacknetwork||[]).push([[268],{6562:(e,t,n)=>{n.d(t,{Z:()=>x});var r=n(885),o=n(7294),a=n(5295),s=n(8515),i=n(2643),l=n(9161),c=n(7109),u=n(6867),m=n(2658),p=n(6949),f=n(6111),d=n(3484),Z=n(3727),g=n(2986),h=n(1732),E=n(6914),v=n(6186),w=n(4776),k=n(7957),y=n(9571);function x(e){var t=(0,o.useContext)(d.S),n=t.state,x=t.refresh,C=t.CONFIG,S=(0,o.useState)(null),b=(0,r.Z)(S,2),T=b[0],I=b[1],L=(0,o.useState)(""),A=(0,r.Z)(L,2),M=A[0],O=A[1],D=o.useState(!1),N=(0,r.Z)(D,2),P=N[0],U=N[1],F=(0,o.useState)(!0),R=(0,r.Z)(F,2),W=R[0],G=R[1],j=(0,y.Ds)().enqueueSnackbar;(0,o.useEffect)((function(){e.post.UsersLikes.includes(n.isLogedIn&&n.myInfo.id)?I(!0):I(!1)}),[n.isLogedIn,n.posts]);var q=function(){"main"===e.from?x():"following"===e.from?e.getFollowingPosts():e.GetUserPosts()};return o.createElement(a.Z,{style:{textAlign:"center",width:"auto",margin:"auto",marginTop:"2%"},sx:{maxWidth:550}},o.createElement(s.Z,{avatar:o.createElement(Z.rU,{style:{textDecoration:"initial"},to:"/profile/".concat(e.post.writer)},o.createElement(c.Z,{sx:{bgcolor:p.Z[500]},"aria-label":"recipe"},e.post.writer.charAt(0).toUpperCase())),action:n.isLogedIn&&(n.myInfo.username===e.post.writer?o.createElement(u.Z,{onClick:function(){O(e.post.post),G(!W)}},o.createElement(k.Z,null)):""),title:e.post.writer,subheader:e.post.created_at}),o.createElement(i.Z,null,W?o.createElement(m.Z,{variant:"body2",color:"text.secondary"},e.post.post):o.createElement(o.Fragment,null,o.createElement(h.Z,{id:"outlined-multiline-static",value:M,multiline:!0,rows:5,style:{width:"100%",marginTop:"1%"},onChange:function(e){O(e.target.value)}}),o.createElement(E.Z,{onClick:function(){var t,n;M.length>5?(t=M,n=e.post.id,g.h.patch("posts/".concat(n,"/"),{post:t},C).then((function(){return q()})),j("Post Edited!",{variant:"info"}),G(!0)):U(!0)}},"Save"),o.createElement(w.Z,{direction:"up",in:P,mountOnEnter:!0,unmountOnExit:!0},o.createElement(v.Z,{severity:"warning"},"you should at least type 5 letters")))),o.createElement(l.Z,{disableSpacing:!0},o.createElement(u.Z,{onClick:function(){var t;n.isLogedIn&&(I(!T),t=e.post.id,g.h.patch("posts/".concat(t,"/like/"),{},C).then((function(){return q()})))},style:{color:T?"red":"gray"},"aria-label":"add to favorites"},o.createElement(f.Z,null),0==e.post.likes?"":e.post.likes)))}},3268:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var r=n(4942),o=n(5861),a=n(885),s=n(7757),i=n.n(s),l=n(7294),c=n(6186),u=n(4776),m=n(7462),p=n(3366),f=(n(5697),n(6010)),d=n(7192),Z=n(9602),g=n(1657),h=n(2658),E=n(8979);function v(e){return(0,E.Z)("MuiAlertTitle",e)}(0,n(6087).Z)("MuiAlertTitle",["root"]);var w=n(5893);const k=["className"],y=(0,Z.ZP)(h.Z,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({fontWeight:e.typography.fontWeightMedium,marginTop:-2}))),x=l.forwardRef((function(e,t){const n=(0,g.Z)({props:e,name:"MuiAlertTitle"}),{className:r}=n,o=(0,p.Z)(n,k),a=n,s=(e=>{const{classes:t}=e;return(0,d.Z)({root:["root"]},v,t)})(a);return(0,w.jsx)(y,(0,m.Z)({gutterBottom:!0,component:"div",ownerState:a,ref:t,className:(0,f.Z)(s.root,r)},o))}));var C=n(6562),S=n(3484),b=n(6492),T=n(9041);function I(e){var t,n=(0,l.useContext)(S.S),s=n.state,m=n.refresh,p=l.useState(1),f=(0,a.Z)(p,2),d=f[0],Z=f[1];(0,l.useEffect)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m();case 1:case"end":return e.stop()}}),e)}))),[]);var g=10*d,h=g-10,E=Math.ceil((null!==s.posts&&""===s.error&&s.posts.length)/10);return l.createElement("div",null,null!==s.posts&&""===s.error&&s.posts.sort((function(e,t){return new Date(t.id)-new Date(e.id)})).slice(h,g).map((function(e,t){return l.createElement(C.Z,{key:t,post:e,from:"main"})})),s.isLoading||s.infoIsLoading?l.createElement(T.Z,{sx:{marginTop:"10%"}}):l.createElement(b.Z,{size:"large",count:E,page:d,onChange:function(e,t){Z(t),window.scrollTo({top:0,behavior:"smooth"})}}),l.createElement(u.Z,{direction:"up",in:""!==s.error,mountOnEnter:!0,unmountOnExit:!0},l.createElement(c.Z,{sx:(t={margin:"auto",width:"auto"},(0,r.Z)(t,"width","40%"),(0,r.Z)(t,"marginTop","1%"),t),severity:"error"},l.createElement(x,null,"Error"),s.error)))}}}]);